---
title: 조건부 확률과 독립
sidebar:
  nav: docs-ko
key: 20220417
tags: 통계학
---

우리는 지금까지 사건 A가 일어났을 때의 확률만을 알아보았다.

이번 글에선 사건 B가 일어났다는 가정 하에 사건 A가 일어날 확률에 대해 알아볼 것이다.

또한 언제 조건부 확률을 사용하는지에 대해서도 생각해볼 것이다.

# 조건부 확률 *Conditional Probability*
### 조건부 확률이란?
<b>조건부 확률</b>이란 사건 𝐴가 일어났다는 조건 하에 사건 𝐵가 일어날 확률을 말하며 공식은 아래와 같다.
    
$$P(B|A) = \frac{P(A \cap B)}{P(A)}, \quad for \,\,\, P(A) > 0$$

이처럼 $P(A)$와 $P(A \cap B)$을 알면 $P(B \mid A)$를 구할 수 있다.

<br>

만약 $A$와 $B$가 배반 사건이라면

$$P(B|A) = \frac{P(A \cap B)}{P(A)} = \frac{0}{P(A)} = 0$$
이다.

만약 $B$ $\subset$ $A$라면
$$P(B|A) = \frac{P(A \cap B)}{P(A)} = \frac{P(A)}{P(A)} = 1$$
이다.

### 예시: 자루 안에서 당첨 공 뽑기

백화점에 갔는데 우연하게도 100만 번째 손님으로 선정되어 이벤트에 참여할 기회가 생겼다. 

40개의 공이 담긴 자루 안에서 당첨 공을 뽑는다면 부리부리 왕국에 가는 비행기 티켓을 준다고 한다. 

|-|빨간색|파란색|
|---|---|---|
|당첨|1|3|
|꽝!|19|17|

빨간색의 공을 뽑았을 때, 당첨 공인 확률은 얼마가 될까?

$P(R)$ = 빨간색 공을 뽑을 확률, $P(D)$ = 당첨될 확률이라고 하자. 

우리가 궁금한 것은 빨간색 공을 뽑았는데 해당 공이 당첨일 확률이다. 


$$P(D|R) = \frac{P(D \cap R)}{P(R)}$$

이는 위와 같이 표현할 수 있다. 여기에 숫자를 대입해보자.

$$\frac{P(D \cap R)}{P(R)} = \frac{n(D \cap R)}{n(R)} = \frac{1}{20}$$

부리부리 왕국에 갈 수 있는 확률은 $\frac{1}{2}$이다.
<br>

# 곱의 법칙 *Multiplicative Rules*

### 곱의 법칙이란?
조건부 확률의 정의를 바꿔 쓰면 

$$𝑃(𝐴 ∩ 𝐵) = P(A)𝑃(B|A) = P(B)P(A|B)$$

와 같이 된다.

이 3가지 사건으로 확장하면 아래와 같다.

$$P(A\cap B \cap C) = P(A\cap B)P(C|A \cap B) = P(A)P(B|A)P(C|A \cap B)$$

그렇다면 이번엔 사건 $A_1$, $A_2$,..,$A_k$가 있다고 가정하여 일반화를 진행해보자.

$$P(A_1\cap A_2..\cap A_k) = P(A_1)P(A_2|A_1)P(A_3|A1 \cap A2)..P(A_k|A_1 \cap A_2.. \cap A_{k-1})$$

일반화를 도출하는 수식이 굉장히 복잡해보인다..해당 식은 '독립'을 알게 되면 굉장히 단순화할 수 있다.

# 독립 *independent*
쉽게 말하면 옆동 아저씨의 저녁 메뉴가 저의 저녁 메뉴에 영향을 끼치지 않는 것과 같다.

조금 더 어렵게 표현하면 사건 𝐴의 발생이 사건 𝐵의 발생에 전혀 영향을 미치지 않을 때, 사건 𝐴, 𝐵는 독립 *independent*이라고 한다. 

$$𝑃(B|A) = 𝑃(B)$$

수식으로는 위와 같이 표현되며 독립인 경우 조건부 확률과 원래의 확률이 같아진다. 

### 곱셈 법칙에 응용
$$𝑃(𝐴 ∩ 𝐵) = P(A)𝑃(B|A)$$

아까 곱셈 법칙을 통해 도출해낸 식이다. 

여기서 사건 A와 사건 B가 독립이라는 가정을 한다면 

$$𝑃(𝐴 ∩ 𝐵) = 𝑃(𝐴)𝑃(𝐵)$$

조건부 확률의 수식이 위와 같이 변한다.

이를 기존에 조건부 확률 공식에 대입해보자.

$$P(A|B) = \frac{P(A \cap B)}{P(B)} = \frac{P(A)P(B)}{P(B)} = P(A)$$

이러한 연산 결과 때문에 $P(A \ mid B)$가 $P(A)$가 되는 것이다.

다시 곱셈 법칙의 일반화를 도출할 때로 돌아와보자.

$$P(A_1\cap A_2..\cap A_k) = P(A_1)P(A_2|A_1)P(A_3|A1 \cap A2)..P(A_k|A_1 \cap A_2.. \cap A_{k-1})$$

독립이라는 가정이 추가 된다면 $𝑃(𝐴_1 \cap A_2)$, $P(A_2 \cap A_3)$가 $P(A_1)$, $P(A_2)$로 바뀌게 되면서 식이 다음과 같이 간소화 된다.

$$P(A_1\cap A_2..\cap A_k) = P(A_1)P(A_2)P(A_3)..P(A_k)$$

다음 글에선 조건부 확률을 응용한 베이즈 정리에 대해 알아보자.
